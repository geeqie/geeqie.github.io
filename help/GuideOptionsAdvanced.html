<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Advanced</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="highlight.pack.js"></script><script>
document.addEventListener('DOMContentLoaded', function() {
  var matches = document.querySelectorAll('code.syntax')
  for (var i = 0; i < matches.length; i++) {
    hljs.highlightBlock(matches[i]);
  }
}, false);</script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><main><div class="page">
<header><div class="inner pagewide"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="GuideIndex.html" title="The Geeqie User Manual">The Geeqie User Manual</a> » <a class="trail" href="GuideOptionsMain.html" title="Preferences">Preferences</a> » </div></div></div></header><article><nav class="prevnext pagewide"><div class="inner">
<a href="GuideOptionsToolbar.html" title="Toolbar">Previous</a><a href="GuideOptionsAdditional.html" title="Additional Preferences">Next</a>
</div></nav><div class="hgroup pagewide"><h1 class="title">Advanced</h1></div>
<div class="region">
<div class="contents pagewide"><div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="GuideOptionsAdvanced.html#ExternalPreviewExtraction" title="External preview extraction">External preview extraction</a></li>
<li class="links"><a class="xref" href="GuideOptionsAdvanced.html#ThreadPools" title="Thread Pools">Thread Pools</a></li>
<li class="links"><a class="xref" href="GuideOptionsAdvanced.html#AlternateAlgorithm" title="Alternate Algorithm">Alternate Algorithm</a></li>
</ul></div></div>
<section id="ExternalPreviewExtraction" class="section"><div class="inner">
<div class="hgroup pagewide"><h2 class="title">External preview extraction</h2></div>
<div class="region"><div class="contents pagewide"><p class="para">
      The intention of this feature is to give the user the possibility to display image previews of files
      that the standard libraries cannot decode.
      <p class="para"></p>
      An example is the .dng files produced by LG V30 cameras. Neither
      <span class="code">exiv2</span>
      nor
      <span class="code">libraw</span>
      can
      extract a preview, but the command line program
      <span class="code">dcraw</span>
      can.
      <p class="para"></p>
      This feature allows a work-around until the standard libraries provide a solution.
      <p class="para"></p>
      Two command files are required: one to identify which files to process, and one to extract or decode the preview image.
      <p class="para"></p>
      The format for the identification tool is:
      <div class="code"><pre class="contents"><code>        Parameter 1: (input) full path name to the current image.
        Returns: 0 for file match, any other value for no match.
      </code></pre></div>
      The format for the extraction tool is:
      <div class="code"><pre class="contents"><code>        Parameter 1: (input) full path name to the current image.
        Parameter 2: (output) a temporary file name generated by Geeqie.
        Returns: not used.
      </code></pre></div>
      The tool should load the output file with the decoded image.<p class="para"></p>
      This is an example of an identification tool using a shell script:
      <div class="code"><pre class="contents"><code>#! /bin/bash

        filename=$(basename -- "$1")
        extension="${filename##*.}"

        shopt -s nocasematch
        if [[ $extension == "DNG" ]]
        then
        cameramodel=$(exiv2 -K Exif.Image.UniqueCameraModel -Pt "$1" )
        if [[ $cameramodel  == "LG-H930" ]]
        then
        exit 0
        else
        exit 1
        fi
        else
        exit 1
        fi</code></pre></div>
      <p class="para">
        This is an example of an extraction/decode tool using a shell script:
        <div class="code"><pre class="contents"><code>#! /bin/bash
          dcraw -e -c   "$1" &gt; "$2"</code></pre></div>
        Alternatively:
        <div class="code"><pre class="contents"><code>#! /bin/bash
          gm convert "$1" "$2"</code></pre></div>
      </p>
      <p class="para">
        If the decode tool requires an output file with a particular extension, use this method:
        <div class="code"><pre class="contents"><code>#! /bin/bash
          tmpfile=$(mktemp --tmpdir=$tempdir geeqie_tmp_XXXXXX.jpg)
          gm convert "$1" $tmpfile
          mv $tmpfile "$2"</code></pre></div>
      </p>
    </p></div></div>
</div></section><section id="ThreadPools" class="section"><div class="inner">
<div class="hgroup pagewide"><h2 class="title">Thread Pools</h2></div>
<div class="region"><div class="contents pagewide"><p class="para">
      This option will limit the number of threads (cores) that are used when performing a duplicate image search. A value of
      <span class="code">0</span>
      means use all available threads. This will give the fastest processing time, but will slow other processes including user input response time.
    </p></div></div>
</div></section><section id="AlternateAlgorithm" class="section"><div class="inner">
<div class="hgroup pagewide"><h2 class="title">Alternate Algorithm</h2></div>
<div class="region"><div class="contents pagewide"><p class="para">
      <span class="em emphasis"><a class="link" href="GuideReferenceSimilarityAlgorithms.html" title="Similarity Algorithms">Alternate Similarity Algorithm</a></span>
    </p></div></div>
</div></section>
</div>
<nav class="prevnext pagewide"><div class="inner">
<a href="GuideOptionsToolbar.html" title="Toolbar">Previous</a><a href="GuideOptionsAdditional.html" title="Additional Preferences">Next</a>
</div></nav><div class="clear"></div></article><footer><div class="inner pagewide"><div class="about ui-expander" role="contentinfo">
<div class="yelp-data yelp-data-ui-expander" data-yelp-expanded="false"></div>
<div class="inner">
<div class="hgroup"><h2><span class="title">About</span></h2></div>
<div class="region"><div class="contents">
<div class="copyrights">
<div class="copyright">© <span class="year">2004</span> <span class="holder">John Ellis</span>
</div>
<div class="copyright">© <span class="year">2008-2024</span> <span class="holder">The Geeqie Team</span>
</div>
</div>
<div class="credits">
<div class="credits-authors">
<div class="title"><span class="title">Written By</span></div>
<ul class="credits"><li><span class="author"><span class="firstname">John</span> <span class="surname">Ellis</span></span></li></ul>
</div>
<div class="credits-publishers">
<div class="title"><span class="title">Published By</span></div>
<ul class="credits"><li><span class="publishername">The Geeqie Team</span></li></ul>
</div>
</div>
<div class="license">
<div class="title"><span class="title">Feedback</span></div>
<div class="contents">
<p class="para">
        Comments and general help:
        <span class="email">&lt;<a href="mailto:geeqie@freelists.org" title="Send email to ‘geeqie@freelists.org’.">geeqie@freelists.org</a>&gt;</span>
      </p>
<p class="para">
        Bugs and Feature Requests:
        <a href="https://github.com/BestImageViewer/geeqie/issues" class="ulink" title="https://github.com/BestImageViewer/geeqie/issues">Geeqie Issues</a>
      </p>
<p class="para">
        Website:
        <a href="https://www.geeqie.org" class="ulink" title="https://www.geeqie.org">geeqie.org</a>
      </p>
      
        0.1
        <span class="date">2004-01-01</span>
        
          <p class="para">John Ellis</p>
          <p class="para">Gqview Project</p>
        
      
      
        0.2
        <span class="date">2016-05-30</span>
        
          <p class="para">Colin Clark</p>
          <p class="para">The Geeqie Team</p>
        
      
      
        0.3
        <span class="date">2024-09-16</span>
        
          <p class="para">Colin Clark</p>
          <p class="para">The Geeqie Team</p>
        
      
    </div>
</div>
</div></div>
</div>
</div></div></footer>
</div></main></body>
</html>
